<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Post Creator Pro</title>

<link href="https://fonts.googleapis.com/css2?family=Khand:wght@700&family=Poppins:wght@400;600&family=Noto+Sans+Devanagari&family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
:root{
  --accent:#ffcc00;
  --bg:#0f0f0f;
  --card:#1a1a1a;
  --input:#262626;
}

body{
  margin:0;
  padding:20px;
  background:var(--bg);
  color:#fff;
  font-family:'Poppins',sans-serif;
  display:flex;
  justify-content:center;
}

.app{
  width:100%;
  max-width:480px;
  background:var(--card);
  padding:22px;
  border-radius:22px;
}

h1{
  text-align:center;
  font-family:'Khand';
  color:var(--accent);
  margin-bottom:20px;
}

label{
  font-size:11px;
  color:#aaa;
  text-transform:uppercase;
  margin-bottom:6px;
  display:block;
}

input, textarea, select{
  width:100%;
  padding:14px;
  margin-bottom:14px;
  background:var(--input);
  border:1px solid #333;
  border-radius:12px;
  color:#fff;
}

button{
  width:100%;
  padding:16px;
  border:none;
  border-radius:14px;
  font-family:'Khand';
  font-size:22px;
  background:linear-gradient(135deg,var(--accent),#f39c12);
  color:#000;
  cursor:pointer;
}

#canvas{
  margin-top:24px;
  width:100%;
  aspect-ratio:1/1;
  background:#222;
  border-radius:16px;
  overflow:hidden;
  position:relative;
}

#photo{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center top;
  display:none;
}

.overlay{
  position:absolute;
  bottom:0;
  width:100%;
  padding:18px;
  display:none;
}

.overlay.dark{
  background:rgba(0,0,0,0.75);
}

.overlay.gradient{
  background:linear-gradient(to top,rgba(0,0,0,0.85),transparent);
}

.headline{
  font-family:'Khand','Noto Sans Devanagari','Noto Nastaliq Urdu',sans-serif;
  font-size:32px;
  line-height:1.1;
  max-height:3.3em;
  overflow:hidden;
  display:-webkit-box;
  -webkit-line-clamp:3;
  -webkit-box-orient:vertical;
}

.desc{
  margin-top:6px;
  font-size:15px;
  color:#ddd;
  max-height:4.5em;
  overflow:hidden;
}

.handle{
  margin-top:10px;
  text-align:right;
  font-size:12px;
  color:var(--accent);
}

#saveBtn{
  margin-top:14px;
  background:#27ae60;
  color:#fff;
  display:none;
}
</style>
</head>

<body>
<div class="app">

<h1>Post Creator Pro</h1>

<label>Photo</label>
<input type="file" id="imageInput" accept="image/*">

<label>Headline</label>
<input id="headlineInput">

<label>Description</label>
<textarea id="descInput" rows="3"></textarea>

<label>Font Size</label>
<input type="range" id="fontSize" min="26" max="42" value="32">

<label>Overlay Style</label>
<select id="overlayStyle">
  <option value="dark">Dark</option>
  <option value="gradient">Gradient</option>
</select>

<label>Handle</label>
<input id="handleInput" value="@yourbrand">

<button onclick="createPost()">Create Post</button>

<div id="canvas">
  <img id="photo">
  <div id="overlay" class="overlay dark">
    <div id="outHeadline" class="headline"></div>
    <div id="outDesc" class="desc"></div>
    <div id="outHandle" class="handle"></div>
  </div>
</div>

<button id="saveBtn" onclick="saveImage()">Save Image</button>

</div>

<script>
function createPost(){
  const file = document.getElementById("imageInput").files[0];
  if(!file){ alert("कृपया फोटो चुनें"); return; }

  const reader = new FileReader();
  reader.onload = e => {
    const img = document.getElementById("photo");
    img.src = e.target.result;
    img.onload = () => {
      img.style.display = "block";

      const overlay = document.getElementById("overlay");
      overlay.style.display = "block";
      overlay.className = "overlay " + document.getElementById("overlayStyle").value;

      const h = document.getElementById("outHeadline");
      h.innerText = document.getElementById("headlineInput").value;
      h.style.fontSize = document.getElementById("fontSize").value + "px";

      document.getElementById("outDesc").innerText =
        document.getElementById("descInput").value;

      const handleVal = document.getElementById("handleInput").value.trim();
      document.getElementById("outHandle").innerText =
        handleVal !== "" ? handleVal : "@yourbrand";

      document.getElementById("saveBtn").style.display = "block";
    };
  };
  reader.readAsDataURL(file);
}

function saveImage(){
  const btn = document.getElementById("saveBtn");
  btn.disabled = true;
  btn.innerText = "Saving...";

  html2canvas(document.getElementById("canvas"), {
    scale:3,
    backgroundColor:null
  }).then(canvas => {
    canvas.toBlob(blob => {
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "Post_" + Date.now() + ".png";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);

      btn.disabled = false;
      btn.innerText = "Save Image";
    }, "image/png");
  });
}
</script>

</body>
</html>
