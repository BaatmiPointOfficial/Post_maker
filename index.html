<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baatmi Point Studio - V95 Master</title>
    <link href="https://fonts.googleapis.com/css2?family=Khand:wght@700;800&family=Mukta:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { 
            --accent: #ffcc00; 
            --dark: #0f172a; 
            --bg-page: #e2e8f0; 
            --blue: #3ec7ff; 
            --card-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        body { 
            font-family: 'Mukta', sans-serif; 
            background: var(--bg-page); 
            margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; color: #1e293b;
        }
        
        .header { 
            background: var(--dark); width: 100%; padding: 24px; text-align: center; border-bottom: 5px solid var(--accent); position: sticky; top: 0; z-index: 100;
        }
        .header h1 { margin: 0; font-size: 26px; color: var(--accent); font-family: 'Khand', sans-serif; text-transform: uppercase; letter-spacing: 1.5px; }

        .main { padding: 25px; max-width: 520px; width: 100%; box-sizing: border-box; }
        
        .card { 
            background: #f8fafc; 
            padding: 30px; 
            border-radius: 28px; 
            box-shadow: var(--card-shadow); 
            margin-bottom: 30px; 
            border: 1px solid rgba(203, 213, 225, 0.5); 
        }
        
        .section-title { font-weight: 800; font-size: 14px; color: var(--dark); margin-bottom: 15px; display: block; text-transform: uppercase; opacity: 0.8; }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 25px; }
        .btn-opt { padding: 16px; border: 2px solid #cbd5e1; border-radius: 14px; text-align: center; cursor: pointer; font-size: 14px; font-weight: 800; background: #fff; color: #64748b; }
        .btn-opt.active { background: var(--dark); color: var(--accent); border-color: var(--dark); box-shadow: 0 8px 15px rgba(15, 23, 42, 0.2); }

        label { font-weight: 700; font-size: 13px; color: #475569; display: block; margin-top: 18px; margin-bottom: 6px; }
        textarea, input[type="text"], input[type="file"] { width: 100%; padding: 15px; border-radius: 14px; border: 1px solid #cbd5e1; font-size: 16px; box-sizing: border-box; outline: none; background: #fff; }
        
        .btn-gen { background: linear-gradient(135deg, var(--accent) 0%, #eab308 100%); color: var(--dark); border: none; padding: 20px; border-radius: 18px; font-weight: 800; font-size: 20px; width: 100%; cursor: pointer; margin-top: 30px; box-shadow: 0 10px 20px rgba(234, 179, 8, 0.3); }

        /* --- POSTER LOGIC --- */
        #render-wrap { position: absolute; left: -9999px; }
        #poster { width: 1080px; height: 1080px; background: #000; position: relative; overflow: hidden; }
        .post-bg { width: 100%; height: 100%; object-fit: cover; position: absolute; }
        .shadow-layer { position: absolute; inset: 0; z-index: 5; background: linear-gradient(90deg, #000 45%, rgba(0,0,0,0.6) 75%, transparent 100%); }
        .tpl-seamless .shadow-layer { background: linear-gradient(0deg, #000 35%, transparent 70%); }

        /* ‡§¨‡§¶‡§≤: ‡§≤‡•ã‡§ó‡•ã‡§ö‡•Ä ‡§ú‡§æ‡§ó‡§æ ‡§ï‡•ã‡§™‡§±‡•ç‡§Ø‡§æ‡§§ ‡§∏‡•á‡§ü ‡§ï‡•á‡§≤‡•Ä (Top:40px, Right:50px) */
        .logo-wrap { position: absolute; top: 40px; right: 50px; z-index: 20; }
        /* ‡§¨‡§¶‡§≤: ‡§≤‡•ã‡§ó‡•ã‡§ö‡§æ ‡§Ü‡§ï‡§æ‡§∞ ‡§µ‡§æ‡§¢‡§µ‡§≤‡§æ (Height: 160px) */
        .logo-img { height: 160px; width: auto; display: none; filter: drop-shadow(0 0 15px rgba(255,255,255,0.3)); }

        .post-content { position: absolute; inset: 0; z-index: 10; display: flex; align-items: center; padding: 60px 30px; }
        .tpl-cinematic .left-box { width: 62%; height: 720px; display: flex; flex-direction: column; justify-content: flex-start; position: relative; padding-right: 50px; }
        .tpl-cinematic .left-box::after { content: ''; position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 16px; height: 420px; border-radius: 20px; background: var(--accent); }
        .tpl-cinematic.tpl-blue .left-box::after { background: var(--blue); }
        .tpl-cinematic .right-box { width: 38%; display: flex; justify-content: flex-end; align-items: center; }
        .tpl-seamless .post-content { flex-direction: column; justify-content: flex-end; align-items: center; padding-bottom: 15px; }
        .tpl-seamless .left-box { width: 100%; height: 378px; min-height: 378px; display: flex; align-items: center; justify-content: center; text-align: center; margin-bottom: 20px; }
        .tpl-seamless .left-box::after { display: none; }
        .tpl-seamless .right-box { display: none !important; }
        .post-desc { color: #ffffff !important; font-weight: 800; line-height: 1.25; text-align: left; width: 100%; text-shadow: 2px 2px 15px rgba(0,0,0,0.9); }
        .tpl-seamless .post-desc { text-align: center; }
        .hl-text { font-family: 'Mukta'; font-weight: 800; color: var(--accent) !important; display: inline; }
        .tpl-blue .hl-text { color: var(--blue) !important; }
        .round-container { width: 400px; height: 400px; border-radius: 50%; border: 12px solid var(--accent); box-shadow: 0 0 70px rgba(0,0,0,0.8); overflow: hidden; display: flex; justify-content: center; align-items: center; }
        .tpl-blue .round-container { border-color: var(--blue); }
        .round-media { width: 100%; height: 100%; object-fit: cover; }
        .footer { position: absolute; bottom: 50px; left: 80px; color: var(--accent); font-family: 'Khand'; font-size: 45px; font-weight: bold; z-index: 15; }
        .tpl-seamless .footer { position: relative; bottom: 0; left: 0; text-align: center; width: 100%; }
        .tpl-blue .footer { color: var(--blue); }
        #preview-img { width: 100%; border-radius: 24px; margin-top: 30px; display: none; border: 5px solid var(--dark); box-shadow: var(--card-shadow); }
        .btn-save { display: none; background: #10b981; color: white; text-decoration: none; padding: 20px; border-radius: 16px; font-weight: 800; text-align: center; margin-top: 15px; width: 100%; box-sizing: border-box; font-size: 18px; }
    </style>
</head>
<body>

<div class="header"><h1>BAATMI POINT STUDIO V95</h1></div>

<div class="main">
    <div class="card">
        <span class="section-title">‡§Æ‡§æ‡§Ç‡§°‡§£‡•Ä (Layout) ‡§®‡§ø‡§µ‡§°‡§æ</span>
        <div class="btn-grid">
            <div class="btn-opt active" onclick="setMode('cinematic', this)">CINEMATIC</div>
            <div class="btn-opt" onclick="setMode('seamless', this)">SEAMLESS</div>
        </div>
        
        <span class="section-title">‡§•‡•Ä‡§Æ ‡§®‡§ø‡§µ‡§°‡§æ</span>
        <div class="btn-grid">
            <div class="btn-opt active" onclick="setTheme('yellow', this)">YELLOW</div>
            <div class="btn-opt" onclick="setTheme('blue', this)">BLUE</div>
        </div>

        <label>‡•ß. ‡§¨‡•Ö‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§´‡•ã‡§ü‡•ã</label>
        <input type="file" onchange="loadImg(event, 'target-img')">
        
        <div id="round-ui-box">
            <label>‡•®. ‡§∞‡§æ‡§ä‡§Ç‡§° ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§´‡•ã‡§ü‡•ã</label>
            <input type="file" onchange="loadImg(event, 'round-photo')">
        </div>

        <label>‡•©. ‡§≤‡•ã‡§ó‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ</label>
        <input type="file" onchange="loadLogo(event)">

        <label>‡•™. ‡§π‡§Å‡§°‡§≤ ‡§®‡§æ‡§µ (‡§â‡§¶‡§æ. baatmipoint.in)</label>
        <input type="text" id="uHandle" value="baatmipoint.in">

        <label>‡•´. ‡§¨‡§æ‡§§‡§Æ‡•Ä ‡§≤‡§ø‡§π‡§æ</label>
        <textarea id="uDesc" rows="4"></textarea>
        
        <label>‡•¨. ‡§π‡§æ‡§Ø‡§≤‡§æ‡§à‡§ü ‡§∂‡§¨‡•ç‡§¶</label>
        <input type="text" id="uWords">

        <button class="btn-gen" onclick="generate()">HD ‡§™‡•ã‡§∏‡•ç‡§ü ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ üé¨</button>
    </div>

    <img id="preview-img">
    <a id="download-btn" class="btn-save">‡§ó‡•Ö‡§≤‡§∞‡•Ä‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§∏‡•á‡§µ‡•ç‡§π ‡§ï‡§∞‡§æ üì•</a>
</div>

<div id="render-wrap">
    <div id="poster" class="tpl-cinematic tpl-yellow">
        <img id="target-img" class="post-bg"><div class="shadow-layer"></div>
        <div class="logo-wrap"><img id="render-logo" class="logo-img"></div>
        <div class="post-content">
            <div class="left-box" id="box-l"><div id="render-text" class="post-desc"></div></div>
            <div class="right-box"><div class="round-container" id="r-container"><img id="round-photo" class="round-media"></div></div>
            <div id="render-handle" class="footer">baatmipoint.in</div>
        </div>
    </div>
</div>

<script>
    let currentMode = 'cinematic'; let currentTheme = 'yellow'; let bgUploaded = false;
    function setMode(mode, btn) { currentMode = mode; btn.parentElement.querySelectorAll('.btn-opt').forEach(b => b.classList.remove('active')); btn.classList.add('active'); document.getElementById('poster').className = `tpl-${currentMode} tpl-${currentTheme}`; document.getElementById('round-ui-box').style.display = (mode === 'seamless') ? 'none' : 'block'; }
    function setTheme(theme, btn) { currentTheme = theme; btn.parentElement.querySelectorAll('.btn-opt').forEach(b => b.classList.remove('active')); btn.classList.add('active'); document.getElementById('poster').className = `tpl-${currentMode} tpl-${theme}`; const accent = (theme === 'yellow') ? '#ffcc00' : '#3ec7ff'; document.getElementById('render-handle').style.color = accent; }
    function loadImg(e, id) { if (e.target.files[0]) { const reader = new FileReader(); reader.onload = (event) => { document.getElementById(id).src = event.target.result; if(id === 'target-img') bgUploaded = true; }; reader.readAsDataURL(e.target.files[0]); } }
    function loadLogo(e) { if (e.target.files[0]) { const reader = new FileReader(); reader.onload = (event) => { const l = document.getElementById('render-logo'); l.src = event.target.result; l.style.display = "block"; }; reader.readAsDataURL(e.target.files[0]); } }
    async function generate() {
        let text = document.getElementById('uDesc').value; const uWords = document.getElementById('uWords').value; const renderText = document.getElementById('render-text'); const boxL = document.getElementById('box-l');
        if(!text || !bgUploaded) return alert("‡§´‡•ã‡§ü‡•ã ‡§Ü‡§£‡§ø ‡§Æ‡§ú‡§ï‡•Ç‡§∞ ‡§≠‡§∞‡§æ!"); document.getElementById('render-handle').innerText = document.getElementById('uHandle').value;
        if(uWords) { uWords.split(',').forEach(w => { const word = w.trim(); if(word) { const reg = new RegExp(word, 'gi'); text = text.replace(reg, match => `<span class="hl-text">${match}</span>`); } }); }
        renderText.innerHTML = text;
        let fontSize = (currentMode === 'seamless') ? 140 : 230; renderText.style.fontSize = fontSize + 'px';
        while ((renderText.scrollHeight > boxL.offsetHeight || renderText.scrollWidth > boxL.offsetWidth) && fontSize > 25) { fontSize -= 2; renderText.style.fontSize = fontSize + 'px'; }
        setTimeout(() => { html2canvas(document.getElementById('poster'), { scale: 3, useCORS: true }).then(canvas => {
            const data = canvas.toDataURL('image/png'); const pImg = document.getElementById('preview-img'); const dBtn = document.getElementById('download-btn');
            pImg.src = data; pImg.style.display = "block"; dBtn.href = data; dBtn.download = `BaatmiPoint_V95.png`; dBtn.style.display = "block"; pImg.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }); }, 300);
    }
</script>
</body>
</html>
