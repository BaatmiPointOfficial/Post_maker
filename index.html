<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Maker V25 - Color Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Khand:wght@700&family=Mukta:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --accent: #ffcc00; --accent-rgb: 255,204,0; --bg: #0f172a; }
        body { font-family: 'Mukta', sans-serif; background: #f1f5f9; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; }
        .header { background: #0f172a; width: 100%; padding: 15px; text-align: center; border-bottom: 3px solid #ffcc00; position: sticky; top: 0; z-index: 100; }
        .header h1 { margin: 0; font-size: 22px; color: #ffcc00; font-family: 'Khand', sans-serif; }

        .main { padding: 20px; max-width: 500px; width: 100%; box-sizing: border-box; }
        .editor { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; }
        
        /* ‡§ï‡§≤‡§∞ ‡§∏‡§ø‡§≤‡•á‡§ï‡•ç‡§∂‡§® ‡§µ‡§ø‡§≠‡§æ‡§ó - ‡§Ü‡§§‡§æ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§¶‡§ø‡§∏‡•á‡§≤ */
        .section-label { font-size: 14px; font-weight: bold; color: #475569; margin: 15px 0 8px 0; display: block; }
        .color-row { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; padding: 10px; background: #f8fafc; border-radius: 12px; }
        .c-btn { width: 35px; height: 35px; border-radius: 50%; cursor: pointer; border: 3px solid #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: 0.2s; }
        .c-btn.active { border-color: #0f172a; transform: scale(1.15); }
        .custom-picker { width: 45px; height: 45px; border: none; padding: 0; cursor: pointer; background: none; }

        textarea, input[type="text"] { width: 100%; padding: 14px; margin-bottom: 12px; border-radius: 10px; border: 1.5px solid #e2e8f0; font-size: 16px; box-sizing: border-box; outline: none; }
        input[type="file"] { margin-bottom: 15px; font-size: 14px; }
        .btn-gen { background: #0f172a; color: #ffcc00; border: none; padding: 18px; border-radius: 15px; font-weight: bold; font-size: 19px; width: 100%; cursor: pointer; transition: 0.3s; }
        .btn-gen:active { transform: scale(0.98); }

        /* Rendering Engine - V25 */
        #render-wrap { position: absolute; left: -9999px; }
        #poster { width: 1080px; height: 1080px; background: #000; position: relative; overflow: hidden; border: 15px solid #fff; }
        .post-bg { width: 100%; height: 100%; object-fit: cover; position: absolute; }
        .post-overlay { position: absolute; bottom: 0; width: 100%; height: 48%; background: linear-gradient(transparent, rgba(0,0,0,0.9) 35%, #000); }
        .post-content { position: absolute; bottom: 125px; width: 100%; padding: 0 85px; text-align: center; height: 360px; display: flex; align-items: center; justify-content: center; z-index: 5; }
        .post-desc { color: #fff; font-size: 50px; font-weight: 700; line-height: 1.5; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }
        
        .highlight { 
            color: var(--accent); 
            font-family: 'Khand', sans-serif;
            display: inline;
            padding: 2px 5px;
            margin: 0 -1px;
            background: rgba(var(--accent-rgb), 0.2); 
            border-radius: 6px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        .post-footer { position: absolute; bottom: 45px; width: 100%; display: flex; justify-content: center; align-items: center; gap: 15px; color: #fff; font-size: 42px; font-family: 'Khand', sans-serif; font-weight: bold; }
        .social-svg { width: 50px; height: 50px; fill: var(--accent); }
    </style>
</head>
<body>

<div class="header"><h1>POST MAKER PRO V25</h1></div>

<div class="main">
    <div class="editor">
        <label class="section-label">‡•ß. ‡§´‡•ã‡§ü‡•ã ‡§Ü‡§£‡§ø ‡§Æ‡§ú‡§ï‡•Ç‡§∞ ‡§≠‡§∞‡§æ</label>
        <input type="file" id="uFile" accept="image/*" onchange="loadImg(event)">
        <textarea id="uDesc" rows="4" placeholder="‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§¨‡§æ‡§§‡§Æ‡•Ä ‡§≤‡§ø‡§π‡§æ... (*‡§π‡§æ‡§Ø‡§≤‡§æ‡§à‡§ü*)"></textarea>
        
        <label class="section-label">‡•®. ‡§π‡§æ‡§Ø‡§≤‡§æ‡§à‡§ü ‡§∞‡§Ç‡§ó ‡§®‡§ø‡§µ‡§°‡§æ</label>
        <div class="color-row">
            <div class="c-btn active" style="background: #ffcc00;" onclick="setColor('#ffcc00', '255,204,0', this)"></div>
            <div class="c-btn" style="background: #ff3e3e;" onclick="setColor('#ff3e3e', '255,62,62', this)"></div>
            <div class="c-btn" style="background: #00ff87;" onclick="setColor('#00ff87', '0,255,135', this)"></div>
            <div class="c-btn" style="background: #3ec7ff;" onclick="setColor('#3ec7ff', '62,199,255', this)"></div>
            <input type="color" class="custom-picker" id="customColor" oninput="pickColor(this.value)">
            <span style="font-size: 11px; color: #64748b;">‡§á‡§§‡§∞ ‡§∞‡§Ç‡§ó</span>
        </div>

        <input type="text" id="uWmark" value="baatmipoint.in">
        <button class="btn-gen" id="genBtn" onclick="generate()">HD ‡§™‡•ã‡§∏‡•ç‡§ü ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ ‚ú®</button>
    </div>
    <img id="preview" style="width:100%; display:none; margin-top:25px; border-radius:15px; border: 5px solid #0f172a;">
    <a id="saveBtn" style="display:none; background:#10b981; color:white; text-decoration:none; padding:18px; border-radius:12px; font-weight:bold; text-align:center; margin-top:10px;">‡§∏‡•á‡§µ‡•ç‡§π ‡§ï‡§∞‡§æ üì•</a>
</div>

<div id="render-wrap">
    <div id="poster">
        <img id="target-img" class="post-bg">
        <div class="post-overlay"></div>
        <div class="post-content"><div id="rt-desc" class="post-desc"></div></div>
        <div class="post-footer">
            <svg class="social-svg" viewBox="0 0 24 24"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1V12h3l-.5 3h-2.5v6.8c4.56-.93 8-4.96 8-9.8z"/></svg>
            <span id="rt-foot"></span>
        </div>
    </div>
</div>

<script>
    // Helper: Hex to RGB Converter
    function hexToRgb(hex) {
        let r = parseInt(hex.slice(1, 3), 16);
        let g = parseInt(hex.slice(3, 5), 16);
        let b = parseInt(hex.slice(5, 7), 16);
        return `${r},${g},${b}`;
    }

    function setColor(hex, rgb, btn) {
        document.documentElement.style.setProperty('--accent', hex);
        document.documentElement.style.setProperty('--accent-rgb', rgb);
        document.querySelectorAll('.c-btn').forEach(x => x.classList.remove('active'));
        if(btn) btn.classList.add('active');
    }

    function pickColor(hex) {
        setColor(hex, hexToRgb(hex), null);
        document.querySelectorAll('.c-btn').forEach(x => x.classList.remove('active'));
    }

    function loadImg(e) {
        const reader = new FileReader();
        reader.onload = (event) => { document.getElementById('target-img').src = event.target.result; }
        reader.readAsDataURL(e.target.files[0]);
    }

    async function generate() {
        const desc = document.getElementById('uDesc').value;
        const btn = document.getElementById('genBtn');
        if(!document.getElementById('target-img').src || desc.trim() === "") return alert("‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§≠‡§∞‡§æ!");

        document.getElementById('rt-desc').innerHTML = desc.replace(/\*(.*?)\*/g, '<span class="highlight">$1</span>');
        document.getElementById('rt-foot').innerText = document.getElementById('uWmark').value;
        
        btn.innerText = "‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó... ‚è≥";
        setTimeout(() => {
            html2canvas(document.getElementById('poster'), { scale: 3, useCORS: true }).then(canvas => {
                const data = canvas.toDataURL('image/png');
                const previewImg = document.getElementById('preview');
                const saveBtn = document.getElementById('saveBtn');
                previewImg.src = data;
                previewImg.style.display = "block";
                saveBtn.href = data;
                saveBtn.download = "BaatmiPoint_V25.png";
                saveBtn.style.display = "block";
                btn.innerText = "HD ‡§™‡•ã‡§∏‡•ç‡§ü ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ ‚ú®";
                previewImg.scrollIntoView({ behavior: 'smooth' });
            });
        }, 800);
    }
</script>
</body>
</html>
